<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:body>
        <ui:composition template="/resources/template/template.xhtml">
            <ui:define name="content">
                <h:form>

                    <p:panelGrid columns="2" 
                                 layout="grid"
                                 rendered="#{webUserController.hasPrivilege('AdminManagingUsers') or sessionController.firstLogin }">

                        <p:panelGrid columns="1" id="actions" styleClass="alignTop"  >
                            <p:commandButton value="Add New User" 
                                             immediate="true"
                                             icon="pi pi-user-plus" 
                                             styleClass="ui-button-info w-100" 
                                             action="#{webUserController.toAddNewUser}" 
                                             ajax="false"/>
                            <p:commandButton 
                                class="w-100" 
                                value="List Users" 
                                action="#{webUserController.toListUsers()}" 
                                ajax="false"
                                icon="pi pi-users" 
                                immediate="true"
                                styleClass="ui-button-info w-100" 
                                />

                            <p:commandButton  icon="pi pi-user-edit" 
                                              styleClass="ui-button-info w-100"   
                                              disabled="#{webUserController.selected == null}" 
                                              value="Edit User" 
                                              immediate="true"
                                              action="#{webUserController.toManageUser()}" 
                                              ajax="false" />
                            <p:commandButton  icon="pi pi-lock" 
                                              immediate="true"
                                              styleClass="ui-button-info w-100"   
                                              disabled="#{webUserController.selected == null}" 
                                              value="Change Password" 
                                              action="#{webUserController.toManagePassword()}" 
                                              ajax="false" />
                            <p:commandButton icon="pi pi-user-plus" 
                                             styleClass="ui-button-info w-100"    
                                             value="Manage Privileges" 
                                             immediate="true"
                                             action="#{webUserController.toManagePrivileges()}" 
                                             ajax="false" />
                            <p:commandButton icon="pi pi-user-plus" 
                                             styleClass="ui-button-info w-100"    
                                             value="Manage User Departments" 
                                             immediate="true"
                                             action="#{webUserController.toManageDepartments()}" 
                                             ajax="false" />
                            <p:commandButton icon="pi pi-user-plus" 
                                             styleClass="ui-button-info w-100"    
                                             rendered="false"  
                                             immediate="true"
                                             value="Manage Signature" 
                                             action="#{webUserController.toManageSignature()}" 
                                             ajax="false" />
                            <p:commandButton ajax="false" 
                                             value="Remove Selected" 
                                             immediate="true"
                                             icon="pi pi-user-minus" 
                                             styleClass="ui-button-danger w-100" 
                                             disabled="#{webUserController.selected == null}" 
                                             action="#{webUserController.removeSelectedUser()}"
                                             onclick="if (!confirm('Are you sure you want to delete this record?'))
                                                         return false;"
                                             >
                            </p:commandButton>
                            <p:commandButton icon="pi pi-bars" 
                                             immediate="true"
                                             styleClass="ui-button-info w-100"  
                                             value="View User Login Details" 
                                             action="admin_logins_all" 
                                             onclick="onSubmitButton();"/>

                        </p:panelGrid>

                        <p:panel  >
                            <ui:insert name="user" >

                            </ui:insert>
                        </p:panel>

                    </p:panelGrid>
                </h:form>




            </ui:define>
        </ui:composition>
    </h:body>
</html>
